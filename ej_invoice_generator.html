<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eject Solutions ‚Äì Invoice Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,400&display=swap" rel="stylesheet">
<style>
:root {
  --navy:#1a1f3c; --navy-deep:#111526; --gold:#c9a227; --gold-lt:#e4bb3a;
  --gold-pale:#fdf7e3; --white:#ffffff; --bg:#e8ecf5;
  --border:#dce3f0; --muted:#56607e; --radius:10px;
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;background:var(--bg);color:var(--navy);min-height:100vh;}
.app-bar{background:var(--navy-deep);height:60px;display:flex;align-items:center;justify-content:space-between;padding:0 32px;position:sticky;top:0;z-index:200;box-shadow:0 2px 18px rgba(0,0,0,.4);}
.bar-left{display:flex;align-items:center;gap:14px;}
.bar-logo{height:36px;width:auto;filter:brightness(0) invert(1);object-fit:contain;}
.bar-title{font-size:17px;font-weight:700;color:#fff;letter-spacing:.2px;}
.bar-title em{font-style:normal;color:var(--gold);}
.bar-sub{font-size:9.5px;font-weight:500;color:rgba(255,255,255,.4);letter-spacing:1.8px;text-transform:uppercase;margin-top:1px;}
.btn-pdf{background:var(--gold);color:var(--navy-deep);border:none;padding:10px 24px;border-radius:8px;font-family:'Poppins',sans-serif;font-size:13px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:7px;transition:all .18s;box-shadow:0 3px 10px rgba(201,162,39,.45);letter-spacing:.3px;}
.btn-pdf:hover{background:var(--gold-lt);transform:translateY(-1px);box-shadow:0 5px 16px rgba(201,162,39,.55);}
.btn-pdf:active{transform:translateY(0);}
.workspace{display:grid;grid-template-columns:390px 1fr;gap:24px;padding:24px 32px;max-width:1440px;margin:0 auto;align-items:start;}
.form-panel{background:var(--white);border-radius:var(--radius);box-shadow:0 3px 20px rgba(26,31,60,.09);overflow:hidden;position:sticky;top:78px;max-height:calc(100vh - 94px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--border) transparent;}
.form-panel::-webkit-scrollbar{width:4px;}
.form-panel::-webkit-scrollbar-thumb{background:var(--border);border-radius:99px;}
.fp-head{background:var(--navy);padding:14px 20px;display:flex;align-items:center;gap:9px;position:sticky;top:0;z-index:10;}
.fp-dot{width:7px;height:7px;background:var(--gold);border-radius:50%;flex-shrink:0;}
.fp-head h2{font-size:11px;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:1.6px;}
.fp-body{padding:18px 18px 22px;}
.fsec{margin-bottom:16px;}
.fsec-title{font-size:9.5px;font-weight:700;color:var(--gold);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:9px;display:flex;align-items:center;gap:7px;}
.fsec-title::after{content:'';flex:1;height:1px;background:var(--border);}
.field{margin-bottom:8px;}
.field label{display:block;font-size:9.5px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;}
.field input,.field textarea{width:100%;padding:8px 11px;border:1.5px solid var(--border);border-radius:7px;font-family:'Poppins',sans-serif;font-size:12.5px;color:var(--navy);background:#f6f8fd;outline:none;transition:border-color .16s,box-shadow .16s,background .16s;line-height:1.4;}
.field input:focus,.field textarea:focus{border-color:var(--gold);background:#fff;box-shadow:0 0 0 3px rgba(201,162,39,.13);}
.field textarea{resize:vertical;min-height:52px;}
.row2{display:grid;grid-template-columns:1fr 1fr;gap:7px;}
.add-row-btn{width:100%;margin-top:6px;padding:9px 0;background:none;border:1.5px dashed var(--gold);border-radius:7px;font-family:'Poppins',sans-serif;font-size:12px;font-weight:600;color:var(--gold);cursor:pointer;transition:all .18s;display:flex;align-items:center;justify-content:center;gap:6px;letter-spacing:.3px;}
.add-row-btn:hover{background:var(--gold-pale);border-color:var(--gold-lt);color:#a07c10;}
.preview-wrap{display:flex;flex-direction:column;gap:10px;}
.preview-top{display:flex;align-items:center;justify-content:space-between;}
.preview-label{font-size:10px;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1.3px;}
.preview-tip{font-size:10px;color:var(--muted);}
#invoice{background:#fff;width:100%;max-width:820px;border-radius:var(--radius);box-shadow:0 6px 44px rgba(26,31,60,.15);overflow:hidden;font-family:'Poppins',sans-serif;}
.inv-hdr{background:var(--navy);padding:28px 38px 24px;display:flex;align-items:center;justify-content:space-between;gap:20px;position:relative;overflow:hidden;}
.inv-hdr::before{content:'';position:absolute;top:0;right:0;border-style:solid;border-width:0 120px 120px 0;border-color:transparent rgba(201,162,39,.18) transparent transparent;}
.inv-hdr::after{content:'';position:absolute;bottom:0;left:0;border-style:solid;border-width:60px 0 0 60px;border-color:transparent transparent transparent rgba(201,162,39,.09);}
.inv-logo-box{z-index:2;flex-shrink:0;}
.inv-logo{height:92px;width:auto;display:block;object-fit:contain;filter:brightness(0) invert(1) drop-shadow(0 2px 8px rgba(0,0,0,.35));}
.inv-contact-box{z-index:2;text-align:right;}
.inv-contact-row{display:flex;align-items:center;justify-content:flex-end;gap:10px;margin-bottom:7px;}
.inv-contact-row:last-child{margin-bottom:0;}
.ico-circle{width:26px;height:26px;background:rgba(201,162,39,.22);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0;}
.inv-contact-txt{font-size:13px;font-weight:500;color:rgba(255,255,255,.92);letter-spacing:.2px;}
.inv-strip{height:4px;background:linear-gradient(90deg,var(--gold) 0%,var(--gold-lt) 50%,rgba(201,162,39,.2) 100%);}
.inv-body{padding:26px 38px 22px;}
.inv-meta{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:20px;gap:12px;}
.inv-date-txt{font-size:13.5px;font-weight:600;color:var(--navy);}
.inv-date-txt span{font-weight:400;color:var(--muted);}
.inv-no-box{text-align:right;}
.inv-no-lbl{font-size:9.5px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:2px;}
.inv-no-val{font-size:15px;font-weight:800;color:var(--navy);letter-spacing:.3px;}
.inv-parties{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:22px;}
.inv-party{background:#f7f9fd;border-radius:8px;padding:14px 16px;border-left:3px solid var(--gold);}
.inv-party-lbl{font-size:9.5px;font-weight:700;text-transform:uppercase;letter-spacing:1.3px;color:var(--gold);margin-bottom:6px;}
.inv-party-name{font-size:13px;font-weight:700;color:var(--navy);margin-bottom:3px;line-height:1.4;}
.inv-party-addr{font-size:11.5px;color:var(--muted);line-height:1.75;}
.inv-party-addr strong{color:var(--navy);font-weight:600;}
.inv-table-wrap{border-radius:8px;overflow:hidden;border:1px solid var(--border);margin-bottom:16px;}
.inv-table{width:100%;border-collapse:collapse;font-size:12px;}
.inv-table thead tr{background:var(--navy);}
.inv-table th{padding:11px 12px;font-size:9.5px;font-weight:700;text-transform:uppercase;letter-spacing:.7px;color:rgba(255,255,255,.88);text-align:left;border-right:1px solid rgba(255,255,255,.07);white-space:nowrap;}
.inv-table th:last-child{border-right:none;}
.inv-table td{padding:12px 12px;color:var(--navy);border-bottom:1px solid var(--border);border-right:1px solid var(--border);vertical-align:middle;line-height:1.5;font-size:12px;}
.inv-table td:last-child{border-right:none;}
.inv-table tbody tr:last-child td{border-bottom:none;}
.inv-table tbody tr:nth-child(even) td{background:#f8faff;}
.td-bold{font-weight:600;color:var(--navy);}
.inv-notes{border:1px solid var(--border);border-radius:8px;padding:14px 18px;margin-bottom:16px;break-inside:avoid;page-break-inside:avoid;background:#fafbff;}
.inv-notes-title{font-size:10.5px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--navy);margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:7px;}
.inv-notes-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px 24px;}
.inv-notes-col p{font-size:10.5px;color:var(--muted);line-height:1.8;margin-bottom:7px;}
.inv-notes-col p:last-child{margin-bottom:0;}
.inv-notes-col p strong{color:var(--navy);font-weight:600;}
.inv-total{background:var(--navy);border-radius:8px;padding:13px 20px;display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;gap:10px;}
.inv-total-lbl{font-size:11.5px;font-weight:500;color:rgba(255,255,255,.72);}
.inv-total-val{font-size:18px;font-weight:800;color:var(--gold-lt);letter-spacing:.4px;white-space:nowrap;}
.inv-bank{background:var(--gold-pale);border:1px solid rgba(201,162,39,.28);border-radius:8px;padding:14px 18px;margin-bottom:24px;break-inside:avoid;page-break-inside:avoid;}
.inv-bank-ttl{font-size:10.5px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--navy);margin-bottom:10px;padding-bottom:8px;border-bottom:1px solid rgba(201,162,39,.3);display:flex;align-items:center;gap:7px;}
.inv-bank-grid{display:grid;grid-template-columns:1fr 1fr;gap:2px 24px;}
.inv-bank-row{font-size:11.5px;color:var(--muted);line-height:1.9;}
.inv-bank-row strong{color:var(--navy);font-weight:600;}
.inv-sign{display:flex;justify-content:flex-end;padding-bottom:4px;}
.inv-sign-inner{text-align:center;}
.inv-stamp-img{display:block;height:75px;width:auto;object-fit:contain;margin:0 auto 5px;}
.inv-sign-label{display:block;font-size:10px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:1.2px;text-align:center;}
.inv-footer{background:var(--navy-deep);padding:13px 38px;display:flex;align-items:center;justify-content:center;gap:10px;margin-top:18px;text-align:center;}
.inv-footer-icon{font-size:15px;opacity:.75;flex-shrink:0;}
.inv-footer-txt{font-size:11px;color:rgba(255,255,255,.6);line-height:1.65;text-align:center;}
@page{size:A4 portrait;margin:0;}
@media print{
  *{-webkit-print-color-adjust:exact !important;print-color-adjust:exact !important;}
  html,body{background:white;margin:0;padding:0;width:210mm;}
  .app-bar,.form-panel,.preview-top{display:none !important;}
  .workspace{display:block !important;padding:0 !important;margin:0 !important;}
  .preview-wrap{gap:0 !important;}
  #invoice{max-width:210mm !important;width:210mm !important;box-shadow:none !important;border-radius:0 !important;font-size:11px !important;}
  .inv-hdr{background:#1a1f3c !important;}
  .inv-footer{background:#111526 !important;}
  .inv-total{background:#1a1f3c !important;}
  .inv-table thead tr{background:#1a1f3c !important;}
  .inv-strip{background:#c9a227 !important;}
  .inv-bank{background:#fdf7e3 !important;border:1px solid rgba(201,162,39,.28) !important;break-inside:avoid !important;page-break-inside:avoid !important;}
  .inv-party{background:#f7f9fd !important;break-inside:avoid !important;}
  .inv-parties{break-inside:avoid !important;}
  .inv-table-wrap{break-inside:avoid !important;}
  .inv-total{break-inside:avoid !important;}
  .inv-sign{break-inside:avoid !important;}
  .inv-logo{filter:brightness(0) invert(1) drop-shadow(0 2px 8px rgba(0,0,0,.35)) !important;}
  .add-row-btn{display:none !important;}
}
</style>
</head>
<body>

<header class="app-bar">
  <div class="bar-left">
    <img class="bar-logo" src="https://iili.io/qFmWUuf.png" alt="EJ Solutions">
    <div>
      <div class="bar-title">Eject Solutions <em>Invoice Generator</em></div>
      <div class="bar-sub">Professional Invoice Tool</div>
    </div>
  </div>
  <button class="btn-pdf" onclick="window.print()">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
    Download PDF
  </button>
</header>

<div class="workspace">

  <!-- FORM -->
  <aside class="form-panel">
    <div class="fp-head">
      <div class="fp-dot"></div>
      <h2>Invoice Details</h2>
    </div>
    <div class="fp-body">

      <div class="fsec">
        <div class="fsec-title">Invoice Info</div>
        <div class="row2">
          <div class="field"><label>Invoice No.</label><input type="text" id="f_inv_no" value="ESPL/INV/2026/04"></div>
          <div class="field"><label>Date</label><input type="text" id="f_date" value="29 January, 2026"></div>
        </div>
      </div>

      <div class="fsec">
        <div class="fsec-title">To (Client)</div>
        <div class="field"><label>Company Name</label><input type="text" id="f_to_name" value="Leap Geebee Edtech Private Limited"></div>
        <div class="field"><label>Address</label><textarea id="f_to_addr">11 Collyer Quay, # 17-00,
The Arcade, Singapore ‚Äì 049317</textarea></div>
      </div>

      <div class="fsec">
        <div class="fsec-title">Student Rows</div>
        <div id="student-rows-form"></div>
        <button class="add-row-btn" onclick="addRow()">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          Add Student Row
        </button>
      </div>

      <div class="fsec">
        <div class="fsec-title">Total</div>
        <div class="row2">
          <div class="field"><label>Total Amount</label><input type="text" id="f_total" value="1191" oninput="updateTotal()"></div>
          <div class="field"><label>Currency</label><input type="text" id="f_total_cur" value="USD" oninput="updateTotal()"></div>
        </div>
      </div>

    </div>
  </aside>

  <!-- PREVIEW -->
  <div class="preview-wrap">
    <div class="preview-top">
      <span class="preview-label">Live Invoice Preview</span>
      <span class="preview-tip">Edits reflect instantly ‚Üí</span>
    </div>

    <div id="invoice">

      <div class="inv-hdr">
        <div class="inv-logo-box">
          <img class="inv-logo" src="https://iili.io/qFmWUuf.png" alt="Eject Solutions">
        </div>
        <div class="inv-contact-box">
          <div class="inv-contact-row">
            <span class="inv-contact-txt">+91 95028 74098</span>
            <div class="ico-circle">üìû</div>
          </div>
          <div class="inv-contact-row">
            <span class="inv-contact-txt">hr@ejectsolutions.com</span>
            <div class="ico-circle">‚úâÔ∏è</div>
          </div>
          <div class="inv-contact-row">
            <span class="inv-contact-txt">www.ejectsolutions.com</span>
            <div class="ico-circle">üåê</div>
          </div>
        </div>
      </div>
      <div class="inv-strip"></div>

      <div class="inv-body">
        <div class="inv-meta">
          <div class="inv-date-txt">Date :- <span id="d_date">29 January, 2026</span></div>
          <div class="inv-no-box">
            <div class="inv-no-lbl">Invoice No.</div>
            <div class="inv-no-val" id="d_inv_no">ESPL/INV/2026/04</div>
          </div>
        </div>

        <div class="inv-parties">
          <div class="inv-party">
            <div class="inv-party-lbl">To</div>
            <div class="inv-party-name" id="d_to_name">Leap Geebee Edtech Private Limited</div>
            <div class="inv-party-addr">Address: <span id="d_to_addr">11 Collyer Quay, # 17-00,<br>The Arcade, Singapore ‚Äì 049317</span></div>
          </div>
          <div class="inv-party">
            <div class="inv-party-lbl">From</div>
            <div class="inv-party-name">Eject Solutions Private Limited</div>
            <div class="inv-party-addr">
              <strong>GSTIN:-</strong> 36AAHCE6818J1ZB<br>
              <strong>PAN:-</strong> AAHCE6818J
            </div>
          </div>
        </div>

        <div class="inv-table-wrap">
          <table class="inv-table">
            <thead>
              <tr>
                <th>#</th>
                <th>Student Name</th>
                <th>CSP / Centre Name</th>
                <th>University</th>
                <th>Tuition Fees</th>
                <th>Currency</th>
                <th>Commission @%</th>
                <th>Commission in Currency</th>
              </tr>
            </thead>
            <tbody id="inv-tbody"></tbody>
          </table>
        </div>

        <!-- Notes / Declaration -->
        <div class="inv-notes">
          <div class="inv-notes-title">üìã Terms &amp; Declaration</div>
          <div class="inv-notes-grid">
            <div class="inv-notes-col">
              <p><strong>Payment Terms:</strong> Payment is due within 30 days of invoice date. Please ensure the amount is transferred in the mentioned foreign currency only.</p>
              <p><strong>Mode of Payment:</strong> Wire Transfer / SWIFT to the beneficiary bank account mentioned above. Please include the invoice number as payment reference.</p>
                         </div>
            <div class="inv-notes-col">
              <p><strong>Declaration:</strong> We hereby declare that the commission invoice raised is in accordance with the recruitment agreement executed between Eject Solutions Private Limited and the client, and the student enrollment has been duly confirmed by the respective university.</p>
              <p><strong>Note:</strong> This is a system-generated invoice. For any discrepancies or queries, please contact us at hr@ejectsolutions.com or call +91 95028 74098 within 7 working days of receipt.</p>
            </div>
          </div>
        </div>

        <div class="inv-total">
          <span class="inv-total-lbl">Total Amount Receivable (Total Value in Foreign Currency)</span>
          <span class="inv-total-val" id="d_total">1191 USD</span>
        </div>

        <div class="inv-bank">
          <div class="inv-bank-ttl">üè¶ Beneficiary Bank Details</div>
          <div class="inv-bank-grid">
            <div class="inv-bank-row"><strong>Account Name:</strong> EJECT SOLUTIONS PVT LTD</div>
            <div class="inv-bank-row"><strong>Account Number:</strong> 463305000070</div>
            <div class="inv-bank-row"><strong>Bank Name:</strong> ICICI Bank</div>
            <div class="inv-bank-row"><strong>IFSC Code:</strong> ICIC0004633</div>
            <div class="inv-bank-row"><strong>Swift Code:</strong> ICICINBBCTS</div>
          </div>
        </div>

        <div class="inv-sign">
          <div class="inv-sign-inner">
            <img class="inv-stamp-img" src="https://iili.io/qFyWXCQ.md.png" alt="Stamp & Signature">
            <span class="inv-sign-label">Signature &amp; Stamp</span>
          </div>
        </div>
      </div>

      <div class="inv-footer">
        <span class="inv-footer-icon">üìç</span>
        <div class="inv-footer-txt">Plot.No: 40C, Flat No. 301, Addagutta Society, Pragathi Nagar Road, Kukatpally, Hyderabad - 500072, Telangana</div>
      </div>

    </div>
  </div>
</div>

<script>
let rowCount = 0;
const rows = [];

function v(id){ const e=document.getElementById(id); return e?e.value.trim():''; }

function addRow(data){
  rowCount++;
  const id = rowCount;
  const d = data || {student:'',csp:'Hyderabad - Eject Solutions Pvt Ltd.',university:'',tuition:'',currency:'USD',pct:'',comm:''};
  rows.push(id);

  const div = document.createElement('div');
  div.id = 'frow-'+id;
  div.style.cssText='background:#f6f8fd;border:1.5px solid #dce3f0;border-radius:8px;padding:12px 13px;margin-bottom:10px;';
  div.innerHTML=`
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:9px;">
      <span style="font-size:10px;font-weight:700;color:var(--gold);text-transform:uppercase;letter-spacing:1px;">Student ${id}</span>
      <button onclick="removeRow(${id})" style="background:#ffeaea;border:1px solid #f5c6c6;border-radius:5px;cursor:pointer;font-size:11px;color:#c0392b;padding:2px 8px;font-family:Poppins,sans-serif;font-weight:600;">‚úï Remove</button>
    </div>
    <div style="margin-bottom:6px;">
      <label style="display:block;font-size:9px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;">Student Name</label>
      <input type="text" id="r${id}_student" value="${d.student}" placeholder="Full name" oninput="renderTable()" style="width:100%;padding:7px 10px;border:1.5px solid #dce3f0;border-radius:6px;font-family:Poppins,sans-serif;font-size:12px;color:#1a1f3c;background:#fff;outline:none;">
    </div>
    <div style="margin-bottom:6px;">
      <label style="display:block;font-size:9px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;">CSP / Centre Name</label>
      <input type="text" id="r${id}_csp" value="${d.csp}" oninput="renderTable()" style="width:100%;padding:7px 10px;border:1.5px solid #dce3f0;border-radius:6px;font-family:Poppins,sans-serif;font-size:12px;color:#1a1f3c;background:#fff;outline:none;">
    </div>
    <div style="margin-bottom:6px;">
      <label style="display:block;font-size:9px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;">University</label>
      <input type="text" id="r${id}_university" value="${d.university}" placeholder="University name" oninput="renderTable()" style="width:100%;padding:7px 10px;border:1.5px solid #dce3f0;border-radius:6px;font-family:Poppins,sans-serif;font-size:12px;color:#1a1f3c;background:#fff;outline:none;">
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-bottom:6px;">
      <div>
        <label style="display:block;font-size:9px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;">Tuition Fees</label>
        <input type="text" id="r${id}_tuition" value="${d.tuition}" placeholder="0.00" oninput="renderTable()" style="width:100%;padding:7px 10px;border:1.5px solid #dce3f0;border-radius:6px;font-family:Poppins,sans-serif;font-size:12px;color:#1a1f3c;background:#fff;outline:none;">
      </div>
      <div>
        <label style="display:block;font-size:9px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;">Currency</label>
        <input type="text" id="r${id}_currency" value="${d.currency}" oninput="renderTable()" style="width:100%;padding:7px 10px;border:1.5px solid #dce3f0;border-radius:6px;font-family:Poppins,sans-serif;font-size:12px;color:#1a1f3c;background:#fff;outline:none;">
      </div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:6px;">
      <div>
        <label style="display:block;font-size:9px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;">Commission %</label>
        <input type="text" id="r${id}_pct" value="${d.pct}" placeholder="0.00" oninput="renderTable()" style="width:100%;padding:7px 10px;border:1.5px solid #dce3f0;border-radius:6px;font-family:Poppins,sans-serif;font-size:12px;color:#1a1f3c;background:#fff;outline:none;">
      </div>
      <div>
        <label style="display:block;font-size:9px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.8px;margin-bottom:3px;">Commission Amt</label>
        <input type="text" id="r${id}_comm" value="${d.comm}" placeholder="0.00" oninput="renderTable()" style="width:100%;padding:7px 10px;border:1.5px solid #dce3f0;border-radius:6px;font-family:Poppins,sans-serif;font-size:12px;color:#1a1f3c;background:#fff;outline:none;">
      </div>
    </div>
  `;
  document.getElementById('student-rows-form').appendChild(div);
  renderTable();
}

function removeRow(id){
  const el=document.getElementById('frow-'+id);
  if(el) el.remove();
  const i=rows.indexOf(id);
  if(i>-1) rows.splice(i,1);
  renderTable();
}

function renderTable(){
  const tbody=document.getElementById('inv-tbody');
  tbody.innerHTML='';
  rows.forEach((id,idx)=>{
    const pct=v('r'+id+'_pct');
    const tr=document.createElement('tr');
    tr.innerHTML=`
      <td class="td-bold" style="text-align:center;">${idx+1}</td>
      <td>${v('r'+id+'_student')||'‚Äî'}</td>
      <td>${v('r'+id+'_csp')||'‚Äî'}</td>
      <td>${v('r'+id+'_university')||'‚Äî'}</td>
      <td class="td-bold">${v('r'+id+'_tuition')||'‚Äî'}</td>
      <td>${v('r'+id+'_currency')||'‚Äî'}</td>
      <td class="td-bold">${pct?(pct+'%'):'‚Äî'}</td>
      <td class="td-bold">${v('r'+id+'_comm')||'‚Äî'}</td>
    `;
    tbody.appendChild(tr);
  });
}

// Simple bindings
[['f_inv_no','d_inv_no','text'],['f_date','d_date','text'],['f_to_name','d_to_name','text'],['f_to_addr','d_to_addr','html']].forEach(([s,d,t])=>{
  const inp=document.getElementById(s), out=document.getElementById(d);
  if(!inp||!out) return;
  inp.addEventListener('input',()=>{
    out[t==='html'?'innerHTML':'textContent']=t==='html'?inp.value.replace(/\n/g,'<br>'):inp.value;
  });
});

function updateTotal(){
  const a=document.getElementById('f_total').value.trim()||'0';
  const c=document.getElementById('f_total_cur').value.trim()||'USD';
  document.getElementById('d_total').textContent=a+' '+c;
}

// Init
addRow({student:'Murali Krishna Mathi',csp:'Hyderabad - Eject Solutions Pvt Ltd.',university:'Western New England (WNE) (LG)',tuition:'9925.00',currency:'USD',pct:'12.00',comm:'1191.00'});
</script>
</body>
</html>
